<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Essential Kafka Cluster Metrics: A Comprehensive Monitoring Guide | Firas Esbai</title> <meta name="generator" content="Jekyll v4.3.4"> <meta property="og:title" content="Essential Kafka Cluster Metrics: A Comprehensive Monitoring Guide"> <meta name="author" content="Firas Esbai"> <meta property="og:locale" content="en_US"> <meta name="description" content="Explanation of important metrics and their usage for Apache Kafka Monitoring and how to visualize then in grafana"> <meta property="og:description" content="Explanation of important metrics and their usage for Apache Kafka Monitoring and how to visualize then in grafana"> <link rel="canonical" href="https://www.firasesbai.com/articles/2021/02/07/kafka-monitoring-part-2.html"> <meta property="og:url" content="https://www.firasesbai.com/articles/2021/02/07/kafka-monitoring-part-2.html"> <meta property="og:site_name" content="Firas Esbai"> <meta property="og:image" content="https://www.firasesbai.com/assets/images/articles/2_grafana_dashboard.png"> <meta property="og:type" content="article"> <meta property="article:published_time" content="2021-02-07T00:00:00+00:00"> <meta name="twitter:card" content="summary_large_image"> <meta property="twitter:image" content="https://www.firasesbai.com/assets/images/articles/2_grafana_dashboard.png"> <meta property="twitter:title" content="Essential Kafka Cluster Metrics: A Comprehensive Monitoring Guide"> <script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Firas Esbai"},"dateModified":"2025-11-16T20:54:06+00:00","datePublished":"2021-02-07T00:00:00+00:00","description":"Explanation of important metrics and their usage for Apache Kafka Monitoring and how to visualize then in grafana","headline":"Essential Kafka Cluster Metrics: A Comprehensive Monitoring Guide","image":"https://www.firasesbai.com/assets/images/articles/2_grafana_dashboard.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.firasesbai.com/articles/2021/02/07/kafka-monitoring-part-2.html"},"url":"https://www.firasesbai.com/articles/2021/02/07/kafka-monitoring-part-2.html"}</script> <link rel="stylesheet" href="/assets/main.css"> <link type="application/atom+xml" rel="alternate" href="https://www.firasesbai.com/feed.xml" title="Firas Esbai"> <script async src="https://www.googletagmanager.com/gtag/js?id='G-3ET85T3WD3'"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-3ET85T3WD3");</script> </head> <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"> <script>!function(e,t,n,s,c,a,i){e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},(a=t.createElement(n)).async=1,a.src=s,(i=t.getElementsByTagName(n)[0]).parentNode.insertBefore(a,i)}(window,document,"script","https://assets.mailerlite.com/js/universal.js","ml"),ml("account","1240462");</script> <link rel="stylesheet" href="/assets/css/bundles/global.css"> <link rel="stylesheet" href="/assets/css/bundles/post.css"> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png?v=1"> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png?v=1"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png?v=1"> <link rel="manifest" href="/assets/favicon/site.webmanifest"> <link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg?v=1" color="#5bbad5"> <link rel="shortcut icon" href="/assets/favicon/favicon.ico?v=1"> <meta name="msapplication-TileColor" content="#da532c"> <meta name="theme-color" content="#ffffff"> <script type="text/javascript" src="/js/service-worker/service-worker.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id='G-3ET85T3WD3'"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-3ET85T3WD3");</script> <body> <header class="site-header" role="banner"> <div class="wrapper"> <a class="site-title" href="/" style="font-size: 26px"> Firas Esbai </a><nav class="site-nav"> <input type="checkbox" id="nav-trigger" class="nav-trigger"> <label for="nav-trigger"> <span class="menu-icon"> <svg viewbox="0 0 18 15" width="18px" height="15px"> <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path> </svg> </span> </label> <div class="trigger"> <a class="page-link" href="/blog/index.html" style="font-size: 20px">Blog</a> <a class="page-link" href="/contact/" style="font-size: 20px">Contact</a> </div> </nav> </div> </header><main class="page-content" aria-label="Content"> <div class="wrapper"> <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"> <nav aria-label="breadcrumb"> <p class="breadcrumb"> <a href="/blog">Blog</a> &gt; <a href="/categories/observability">Observability</a> &gt; <span>Essential Kafka Cluster Metrics: A Comprehensive Monitoring Guide</span> </p> </nav> <header class="post-header"> <h1 class="post-title p-name" itemprop="name headline">Essential Kafka Cluster Metrics: A Comprehensive Monitoring Guide</h1> <div class="post-tags"> <a href="/archive/#observability" class="post-tag-badge">Observability</a> </div> <p class="post-meta"><time class="dt-published" datetime="2021-02-07T00:00:00+00:00" itemprop="datePublished"> February 7, 2021 - </time> <span class="reading-time" title="Estimated read time"> 4 min read </span> <span itemprop="author" itemscope itemtype="http://schema.org/Person"> <span class="p-author h-card" itemprop="name"> - Firas Esbai</span></span></p> <p class="post-meta last-updated"> Last updated: <time datetime="2025-11-16T20:54:06+00:00" itemprop="dateModified"> November 16, 2025 </time> </p> </header> <div class="post-content e-content" itemprop="articleBody"> <p><em>In this article we will stop by some of the most important metrics that we need to keep an eye on while monitoring an Apache Kafka cluster.</em></p> <p>This is a follow-up article on the Kafka monitoring topic where we started by setting up the necessary infrastructure to monitor an Apache Kafka cluster running in a production environment.</p> <p>If you have missed the first part, you can find it <a href="https://firasesbai.github.io/articles/2021/01/01/kafka-monitoring.html">here</a>.</p> <p>The key metrics we are interested in can be grouped into the following categories:</p> <ul> <li><em>Broker Server Metrics</em></li> <li><em>Broker Topics Metrics</em></li> <li><em>Broker Requests Metrics</em></li> </ul> <hr> <h1> Contents </h1> <ul id="markdown-toc"> <li><a href="#broker-server-metrics" id="markdown-toc-broker-server-metrics">Broker Server Metrics</a></li> <li><a href="#broker-topics-metrics" id="markdown-toc-broker-topics-metrics">Broker Topics Metrics</a></li> <li><a href="#broker-requests-metrics" id="markdown-toc-broker-requests-metrics">Broker Requests Metrics</a></li> <li><a href="#recap" id="markdown-toc-recap">Recap</a></li> <li><a href="#resources" id="markdown-toc-resources">Resources</a></li> </ul> <hr> <h2 id="broker-server-metrics">Broker Server Metrics</h2> <p>While it is important to collect and record the values of these metrics, an <strong>alerting mechanism</strong> needs to be put in place, in order to receive notifications mainly for the critical ones.</p> <table> <thead> <tr> <th>Metric Name</th> <th style="text-align: left">Description</th> <th style="text-align: left">Alert</th> </tr> </thead> <tbody> <tr> <td>UnderReplicatedPartitions</td> <td style="text-align: left">Number of under-replicated partitions (<code class="language-plaintext highlighter-rouge">ISR* &lt; all replicas</code>). Normal value 0.</td> <td style="text-align: left">Alert if value is greater than 0</td> </tr> <tr> <td>OfflinePartitionsCount</td> <td style="text-align: left">Number of partitions that don’t have an active leader and are hence not writable or readable.</td> <td style="text-align: left">Alert if value is greater than 0</td> </tr> <tr> <td>UnderMinIsr</td> <td style="text-align: left">Number of partitions whose ISR count is less than <code class="language-plaintext highlighter-rouge">minIsr</code>. Normal value 0.</td> <td style="text-align: left">-</td> </tr> <tr> <td>LeaderElectionRateAndTimeMs</td> <td style="text-align: left">Leader election rate and latency. Non-zero when there are broker failures.</td> <td style="text-align: left">-</td> </tr> <tr> <td>UncleanLeaderElectionsPerSec</td> <td style="text-align: left">Unclean leader election rate. Normal value 0.</td> <td style="text-align: left">Alert when value is different than 0</td> </tr> <tr> <td>PartitionCount</td> <td style="text-align: left">Number of partitions on this broker. This should be mostly even across all brokers.</td> <td style="text-align: left">-</td> </tr> <tr> <td>LeaderCount</td> <td style="text-align: left">Number of leaders on this broker. This should be mostly even across all brokers. If not, set <code class="language-plaintext highlighter-rouge">auto.leader.rebalance.enable</code> to true on all brokers in the cluster.</td> <td style="text-align: left">-</td> </tr> <tr> <td>MaxLag</td> <td style="text-align: left">Maximum lag in messages between the follower and leader replicas. This is controlled by the <code class="language-plaintext highlighter-rouge">replica.lag.max.messages</code> config. Lag should be proportional to the maximum batch size of a produce request. If a broker goes down, ISR for some of the partitions will shrink. When that broker is up again, ISR will be expanded once the replicas are fully caught up. Other than that, the expected value for both ISR shrink rate and expansion rate is 0.</td> <td style="text-align: left">-</td> </tr> <tr> <td>IsrExpandsPerSec</td> <td style="text-align: left">When a broker is brought up after a failure, it starts catching up by reading from the leader. Once it is caught up, it gets added back to the ISR.</td> <td style="text-align: left">-</td> </tr> <tr> <td>ConsumerLag</td> <td style="text-align: left">Lag in number of messages per follower replica. This is useful to know if the replica is slow or has stopped replicating from the leader.</td> <td style="text-align: left">-</td> </tr> </tbody> </table> <p style="text-align:center;">Table 1: Broker Server Metrics</p> <p><em>*ISR: In-Sync Replica</em></p> <h2 id="broker-topics-metrics">Broker Topics Metrics</h2> <table> <thead> <tr> <th>Metric Name</th> <th style="text-align: center">Description</th> </tr> </thead> <tbody> <tr> <td>BytesInPerSec</td> <td style="text-align: center">Aggregate incoming byte in rate from clients.</td> </tr> <tr> <td>BytesOutPerSec</td> <td style="text-align: center">Aggregate outgoing byte out rate from clients.</td> </tr> <tr> <td>TotalProduceRequestsPerSec</td> <td style="text-align: center">Produce request rate.</td> </tr> <tr> <td>FailedProduceRequestsPerSec</td> <td style="text-align: center">Produce request rate for requests that failed.</td> </tr> <tr> <td>TotalFetchRequestsPerSec</td> <td style="text-align: center">Fetch request rate.</td> </tr> <tr> <td>FailedFetchRequestsPerSec</td> <td style="text-align: center">Fetch request rate for requests that failed.</td> </tr> </tbody> </table> <p style="text-align:center;">Table 2: Broker Topics Metrics</p> <h2 id="broker-requests-metrics">Broker Requests Metrics</h2> <table> <thead> <tr> <th>Metric Name</th> <th style="text-align: center">Description</th> </tr> </thead> <tbody> <tr> <td>RequestQueueSize</td> <td style="text-align: center">Size of the request queue. A congested request queue will not be able to process incoming or outgoing requests.</td> </tr> <tr> <td>TotalTimeMs</td> <td style="text-align: center">Total time in ms to serve the specified request broken into queue, local, remote and response send time.</td> </tr> <tr> <td>RequestQueueTimeMs</td> <td style="text-align: center">Time the request waits in the request queue.</td> </tr> <tr> <td>LocalTimeMs</td> <td style="text-align: center">Time the request is processed at the leader.</td> </tr> <tr> <td>RemoteTimeMs</td> <td style="text-align: center">Time the request waits for the follower. This is non-zero for produce requests when acks=all.</td> </tr> <tr> <td>ResponseQueueTimeMs</td> <td style="text-align: center">Time the request waits in the response queue.</td> </tr> <tr> <td>ResponseSendTimeMs</td> <td style="text-align: center">Time to send the response.</td> </tr> <tr> <td>PurgatorySize, delayedOperation=Produce</td> <td style="text-align: center">Number of requests waiting in the producer purgatory. This should be non-zero when <code class="language-plaintext highlighter-rouge">acks=all</code> is used on the producer.</td> </tr> <tr> <td>PurgatorySize, delayedOperation=Fetch</td> <td style="text-align: center">Number of requests waiting in the fetch purgatory. This is high if consumers use a large value for <code class="language-plaintext highlighter-rouge">fetch.wait.max.ms</code>.</td> </tr> </tbody> </table> <p style="text-align:center;">Table 3: Broker Requests Metrics</p> <p>In this Github <a href="https://github.com/firasesbai/Monitoring-Kafka">repository</a> you can find a set of ready to use <strong>Grafana dashboards</strong> (see example below) populated with all the discussed above metrics that should serve as a starting point for you to quickly set up a tracking and alerting mechanism for your cluster.</p> <figure> <img src="/assets/images/articles/2_grafana_dashboard.png" alt="Grafana Dashboard showing monitoring metrics for Apache Kafka Cluster" loading="lazy"> <figcaption>Figure 1: Grafana Dashboard for Kafka Cluster Monitoring</figcaption> </figure> <p>With this we have reached the end of this post, I hope you enjoyed it!</p> <p>The list of metrics mentioned here is not an exhaustive one and probably you will change or extend it depending on your use case and needs.</p> <p>This is why it might be a good idea to check out the list of the resources below for a wider and more in-depth view especially if you’re looking for additional metrics related to other components like Zookeeper or your Consumers and Producers.</p> <h2 id="recap">Recap</h2> <p>In this article we went through some of the most important metrics that we need to observe while monitoring an Apache Kafka cluster.</p> <p><em>Happy learning!</em></p> <h2 id="resources">Resources</h2> <p><a href="https://docs.confluent.io/current/kafka/monitoring.html">https://docs.confluent.io/current/kafka/monitoring.html</a></p> <p><a href="https://blog.serverdensity.com/how-to-monitor-kafka/">https://blog.serverdensity.com/how-to-monitor-kafka/</a></p> <p><a href="https://www.datadoghq.com/blog/monitoring-kafka-performance-metrics/">https://www.datadoghq.com/blog/monitoring-kafka-performance-metrics/</a></p> </div> <hr> <br> <div class="ml-embedded" data-form="T82iSQ"></div> <br> <hr> <br> <div id="relatedPosts"> <div class="post-header bg-"> <h1 class="page-heading">Further Reading</h1> </div> <div class="related-post-item"> <h3><a href="/articles/2023/01/15/prometheus-monitoring.html">Prometheus Monitoring: How to Collect and Analyze Metrics</a></h3> <p class="related-meta"> <span class="related-date">January 15, 2023</span> <span class="related-tags"> <span class="tag-badge">Observability</span> </span> </p> </div> <div class="related-post-item"> <h3><a href="/articles/2022/01/09/logging-with-elasticsearch.html">Logging with ELK Stack</a></h3> <p class="related-meta"> <span class="related-date">January 09, 2022</span> <span class="related-tags"> <span class="tag-badge">Observability</span> </span> </p> </div> <div class="related-post-item"> <h3><a href="/articles/2021/01/01/kafka-monitoring.html">Navigating Apache Kafka Monitoring in Real-World Deployments</a></h3> <p class="related-meta"> <span class="related-date">January 01, 2021</span> <span class="related-tags"> <span class="tag-badge">Observability</span> </span> </p> </div> </div> <hr> <br> <div id="disqus_thread"></div> <script>!function(){var e=document,t=e.createElement("script");t.src="https://firasesbai.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}();</script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a> </noscript> <a class="u-url" href="/articles/2021/02/07/kafka-monitoring-part-2.html" hidden></a> </article> <script src="/js/reading-progress.js" defer></script> <script src="/js/code-copy.js" defer></script> </div> </main><footer class="site-footer h-card"> <data class="u-url" href="/"></data> <div class="wrapper"> <div class="footer-col-wrapper"> <div class="footer-col footer-col-1" style="text-align: left;"><ul class="social-media-list"> <li><a href="https://www.firasesbai.com/feed.xml"><svg class="svg-icon orange"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg><span> Subscribe</span></a></li> <li><a href="https://www.linkedin.com/in/firas-esbai"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg> <span class="username">firas-esbai</span></a></li> <li><a href="https://github.com/firasesbai"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">firasesbai</span></a></li> </ul></div> <div class="footer-col footer-col-2" style="text-align: right;"> <ul class="legal-list" style="list-style-type: none; padding: 0;"> <li><a href="/archive/">Archive</a></li> <li><a href="/privacy-policy/">Privacy Policy</a></li> <li><a href="/terms/">Terms and Conditions</a></li> </ul> </div> </div> <div style="text-align: center; margin-top: 10px;"> <p class="p-name">Copyright © 2025 Firas Esbai.</p> </div> </div> </footer> <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false" defer></script> <script src="/js/cookie-consent-script.js" type="text/javascript" defer></script> </body> </html>